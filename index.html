<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FocusFlow</title>
  <link rel="stylesheet" href="style.css"/>
  <script src="https://unpkg.com/lucide@latest"></script>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/616/616408.png">
</head>
<body>
  <!-- BG -->
  <div id="bg" class="bg"></div>
  <div class="scrim"></div>

  <!-- Header -->
  <header class="top">
    <div class="brand">focusflow.io <span class="by">by NRG</span></div>
  </header>

  <!-- Main -->
  <main class="shell">
    <!-- Modes -->
    <div class="modes" role="tablist">
      <button class="pill active" data-mode="pomodoro" role="tab">pomodoro</button>
      <button class="pill" data-mode="short" role="tab">short break</button>
      <button class="pill" data-mode="long" role="tab">long break</button>
    </div>

    <!-- Timer -->
    <div id="timer" class="timer">25:00</div>

    <!-- Cycle dots -->
    <div id="cycles" class="cycles" aria-label="completed pomodoros"></div>

    <!-- Controls -->
    <div class="controls">
      <button id="startBtn" class="cta primary">start</button>
      <button id="resetBtn" class="cta ghost" title="reset"><i data-lucide="refresh-ccw"></i></button>
      <button id="settingsBtn" class="cta ghost" title="settings"><i data-lucide="settings"></i></button>
    </div>

    <!-- Spotify -->
    <div id="spotifyWrap" class="spotify">
      <iframe id="spotifyFrame" style="border-radius:12px" width="320" height="80" frameborder="0"
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
    </div>
  </main>

  <!-- Finish sound -->
  <audio id="finishSound" preload="auto"></audio>

  <!-- Settings Modal -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="card">
      <div class="modal-head">
        <h2>Settings</h2>
        <button id="closeModal" class="icon-btn"><i data-lucide="x"></i></button>
      </div>

      <div class="tabs">
        <button class="tab active" data-tab="general">General</button>
        <button class="tab" data-tab="timers">Timers</button>
        <button class="tab" data-tab="sounds">Sounds</button>
      </div>

      <div class="panes">
        <!-- GENERAL -->
        <section id="pane-general" class="pane active">
          <label class="row">
            <span>Select theme</span>
            <select id="themeSelect">
              <option value="seoul">Seoul Sunrise</option>
              <option value="tokyo">Tokyo Night</option>
              <option value="arctic">Arctic Focus</option>
              <option value="forest">Forest Mist</option>
            </select>
          </label>

          <label class="row switch">
            <span>Show browser notification when timer finishes</span>
            <input type="checkbox" id="notifToggle">
          </label>

          <label class="row switch">
            <span>Use Pomodoro sequence (work→short break ×4, then long break)</span>
            <input type="checkbox" id="sequenceToggle" checked>
          </label>

          <label class="row switch">
            <span>Show Spotify playlist</span>
            <input type="checkbox" id="spotifyToggle" checked>
          </label>

          <label class="row">
            <span>Spotify playlist URL</span>
            <input id="spotifyUrl" type="url" placeholder="https://open.spotify.com/playlist/...">
          </label>
        </section>

        <!-- TIMERS -->
        <section id="pane-timers" class="pane">
          <div class="grid2">
            <label class="row">
              <span>Pomodoro (min)</span>
              <input id="pomodoroMin" type="number" min="1" value="25">
            </label>
            <label class="row">
              <span>Short break (min)</span>
              <input id="shortMin" type="number" min="1" value="5">
            </label>
            <label class="row">
              <span>Long break (min)</span>
              <input id="longMin" type="number" min="1" value="15">
            </label>
            <label class="row">
              <span>Test (sec)</span>
              <input id="testSec" type="number" min="5" value="30">
            </label>
          </div>
          <p class="hint">Mode “pomodoro/short/long” üstteki pill’lerden seçilir. Test için <b>Shift+T</b> → hızlı 30 sn.</p>
        </section>

        <!-- SOUNDS -->
        <section id="pane-sounds" class="pane">
          <label class="row">
            <span>Select alert sound</span>
            <select id="soundSelect">
              <option value="bell">Bell</option>
              <option value="soft">Soft Ping</option>
              <option value="alert">Alert Tone</option>
            </select>
          </label>

          <label class="row switch">
            <span>Play sound when timer finishes</span>
            <input type="checkbox" id="soundToggle" checked>
          </label>

          <label class="row">
            <span>Alert volume</span>
            <input id="volume" type="range" min="0" max="1" step="0.01" value="0.7">
          </label>
        </section>
      </div>

      <div class="modal-foot">
        <button id="resetAll" class="cta ghost">Reset all</button>
        <button id="saveBtn" class="cta primary">Save changes</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>